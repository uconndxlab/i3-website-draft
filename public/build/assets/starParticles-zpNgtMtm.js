var l=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports);var u=l((f,n)=>{class c{constructor(t={}){if(this.selector=t.selector||".star-particles",this.container=document.querySelector(this.selector),!this.container){console.error(`StarParticles: Container with selector "${this.selector}" not found`);return}this.particleCount=t.particleCount||100,this.particleColor=t.particleColor||"#ffffff",this.particleSize={min:t.minSize||1,max:t.maxSize||3},this.particleOpacity={min:t.minOpacity||.3,max:t.maxOpacity||1},this.speed={min:t.minSpeed||.1,max:t.maxSpeed||.5},this.direction=t.direction||"random",this.twinkle=t.twinkle!==!1,this.connections=t.connections||!1,this.connectionDistance=t.connectionDistance||100,this.connectionOpacity=t.connectionOpacity||.2,this.mousePush=t.mousePush!==!1,this.pushRadius=t.pushRadius||80,this.pushForce=t.pushForce||2,this.fps=t.fps||60,this.retina=t.retina!==!1,this.respectMotionPreference=t.respectMotionPreference!==!1,this.reducedMotionFallback=t.reducedMotionFallback||"static",this.canvas=null,this.ctx=null,this.particles=[],this.animationId=null,this.mouse={x:0,y:0},this.width=0,this.height=0,this.pixelRatio=1,this.prefersReducedMotion=!1,this.resizeTimeout=null,this.boundHandleResize=null,this.boundHandleOrientationChange=null,this.init()}init(){this.checkMotionPreference(),this.createCanvas(),this.setupEventListeners(),this.createParticles(),(!this.prefersReducedMotion||this.reducedMotionFallback!=="off")&&this.animate()}checkMotionPreference(){if(!this.respectMotionPreference){this.prefersReducedMotion=!1;return}const t=window.matchMedia("(prefers-reduced-motion: reduce)");this.prefersReducedMotion=t.matches,t.addEventListener("change",i=>{this.prefersReducedMotion=i.matches,this.handleMotionPreferenceChange()})}handleMotionPreferenceChange(){if(this.prefersReducedMotion)switch(this.reducedMotionFallback){case"off":this.stop(),this.ctx.clearRect(0,0,this.width,this.height);break;case"static":this.stop(),this.drawStaticParticles();break;case"minimal":this.applyMinimalMotion(),this.animationId||this.animate();break}else this.restoreFullMotion(),this.animationId||this.animate()}createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.pointerEvents="none",this.canvas.style.zIndex="0",window.getComputedStyle(this.container).position==="static"&&(this.container.style.position="relative"),this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.handleResize()}handleResize(){const t=this.container.getBoundingClientRect(),i=this.width,s=this.height;this.width=t.width,this.height=t.height,this.retina?(this.pixelRatio=window.devicePixelRatio||1,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.ctx.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):(this.canvas.width=this.width,this.canvas.height=this.height,this.ctx.setTransform(1,0,0,1,0,0)),i&&s&&this.particles.length>0&&this.adjustParticlesForResize(i,s)}setupEventListeners(){this.boundHandleResize=()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.handleResize()},16)},this.boundHandleOrientationChange=()=>{setTimeout(()=>{this.handleResize()},100)},window.addEventListener("resize",this.boundHandleResize),window.addEventListener("orientationchange",this.boundHandleOrientationChange),this.mousePush&&(this.container.addEventListener("mousemove",t=>{const i=this.container.getBoundingClientRect();this.mouse.x=t.clientX-i.left,this.mouse.y=t.clientY-i.top}),this.container.addEventListener("mouseleave",()=>{this.mouse.x=-1e3,this.mouse.y=-1e3}))}createParticles(){this.particles=[];for(let t=0;t<this.particleCount;t++)this.particles.push(this.createParticle())}createParticle(){const t={x:Math.random()*this.width,y:Math.random()*this.height,size:this.randomBetween(this.particleSize.min,this.particleSize.max),opacity:this.randomBetween(this.particleOpacity.min,this.particleOpacity.max),baseOpacity:0,speed:this.randomBetween(this.speed.min,this.speed.max),vx:0,vy:0,twinkleOffset:Math.random()*Math.PI*2,originalX:0,originalY:0};return t.baseOpacity=t.opacity,t.originalX=t.x,t.originalY=t.y,this.setParticleDirection(t),t}setParticleDirection(t){let i;switch(this.direction){case"up":i=-Math.PI/2;break;case"down":i=Math.PI/2;break;case"left":i=Math.PI;break;case"right":i=0;break;case"random":i=Math.random()*Math.PI*2;break;default:i=(parseFloat(this.direction)||0)*Math.PI/180}t.vx=Math.cos(i)*t.speed,t.vy=Math.sin(i)*t.speed}updateParticles(){this.particles.forEach(t=>{if(!(this.prefersReducedMotion&&this.reducedMotionFallback==="static")){if(t.x+=t.vx,t.y+=t.vy,this.mousePush&&(!this.prefersReducedMotion||this.reducedMotionFallback==="minimal")){const i=t.x-this.mouse.x,s=t.y-this.mouse.y,h=Math.sqrt(i*i+s*s);if(h<this.pushRadius){const e=(this.pushRadius-h)/this.pushRadius,o=i/h*e*this.pushForce,r=s/h*e*this.pushForce;t.x+=o,t.y+=r}}this.twinkle&&(this.prefersReducedMotion&&this.reducedMotionFallback==="minimal"?t.opacity=t.baseOpacity+Math.sin(Date.now()*.001+t.twinkleOffset)*.1:this.prefersReducedMotion||(t.opacity=t.baseOpacity+Math.sin(Date.now()*.003+t.twinkleOffset)*.3),t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<-10&&(t.x=this.width+10),t.x>this.width+10&&(t.x=-10),t.y<-10&&(t.y=this.height+10),t.y>this.height+10&&(t.y=-10)}})}drawParticles(){this.ctx.clearRect(0,0,this.width,this.height),this.connections&&this.drawConnections(),this.particles.forEach(t=>{this.ctx.save(),this.ctx.globalAlpha=t.opacity,this.ctx.fillStyle=this.particleColor,this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size,0,Math.PI*2),this.ctx.fill(),this.ctx.restore()})}drawConnections(){this.ctx.save(),this.ctx.strokeStyle=this.particleColor,this.ctx.globalAlpha=this.connectionOpacity,this.ctx.lineWidth=1;for(let t=0;t<this.particles.length;t++)for(let i=t+1;i<this.particles.length;i++){const s=this.particles[t].x-this.particles[i].x,h=this.particles[t].y-this.particles[i].y,e=Math.sqrt(s*s+h*h);if(e<this.connectionDistance){const o=1-e/this.connectionDistance;this.ctx.globalAlpha=o*this.connectionOpacity,this.ctx.beginPath(),this.ctx.moveTo(this.particles[t].x,this.particles[t].y),this.ctx.lineTo(this.particles[i].x,this.particles[i].y),this.ctx.stroke()}}this.ctx.restore()}animate(){this.updateParticles(),this.drawParticles(),this.animationId=requestAnimationFrame(()=>this.animate())}drawStaticParticles(){this.ctx.clearRect(0,0,this.width,this.height),this.connections&&this.drawConnections(),this.particles.forEach(t=>{this.ctx.save(),this.ctx.globalAlpha=t.baseOpacity,this.ctx.fillStyle=this.particleColor,this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size,0,Math.PI*2),this.ctx.fill(),this.ctx.restore()})}applyMinimalMotion(){this.particles.forEach(t=>{t.vx*=.1,t.vy*=.1})}restoreFullMotion(){this.particles.forEach(t=>{this.setParticleDirection(t)})}randomBetween(t,i){return Math.random()*(i-t)+t}start(){this.animationId||this.animate()}stop(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}setParticleCount(t){this.particleCount=t,this.createParticles()}setDirection(t){this.direction=t,this.particles.forEach(i=>{this.setParticleDirection(i)})}setSpeed(t,i){this.speed.min=t,this.speed.max=i||t,this.particles.forEach(s=>{s.speed=this.randomBetween(this.speed.min,this.speed.max),this.setParticleDirection(s)})}setColor(t){this.particleColor=t}toggleConnections(){this.connections=!this.connections}toggleTwinkle(){this.twinkle=!this.twinkle,this.twinkle||this.particles.forEach(t=>{t.opacity=t.baseOpacity})}destroy(){this.stop(),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.boundHandleResize&&window.removeEventListener("resize",this.boundHandleResize),this.boundHandleOrientationChange&&window.removeEventListener("orientationchange",this.boundHandleOrientationChange)}adjustParticlesForResize(t,i){const s=this.width/t,h=this.height/i;this.particles.forEach(e=>{e.x*=s,e.y*=h,e.originalX*=s,e.originalY*=h,e.x=Math.max(0,Math.min(this.width,e.x)),e.y=Math.max(0,Math.min(this.height,e.y)),e.originalX=Math.max(0,Math.min(this.width,e.originalX)),e.originalY=Math.max(0,Math.min(this.height,e.originalY))})}}function d(a){return new c(a)}typeof n<"u"&&n.exports&&(n.exports=c);window.StarParticles=c;window.createStarParticles=d});export default u();
